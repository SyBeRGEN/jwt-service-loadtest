# üîê jwt-service-loadtest

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ `user-auth` –∏ `verification-service` —Å –ø–æ–º–æ—â—å—é **Apache JMeter**, **Micrometer**, **Prometheus**, **Grafana** –∏ **GitHub Actions**.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ `docker-compose`
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ —Å –ø–æ–º–æ—â—å—é JMeter (.jmx-—Å—Ü–µ–Ω–∞—Ä–∏–π)
- –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –≤ Prometheus —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≤ Grafana
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ (`CI`)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è HTML-–æ—Ç—á—ë—Ç–æ–≤ JMeter

## ü©µ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- Java 17 + Spring Boot
- Redis
- Apache JMeter
- Prometheus + Grafana
- Micrometer (Prometheus registry)
- Docker / Docker Compose
- GitHub Actions

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ docker-compose.yml                 # –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫: redis, –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, Prometheus, Grafana
‚îú‚îÄ‚îÄ jwt_mock_test.jmx                  # JMeter-—Å—Ü–µ–Ω–∞—Ä–∏–π –Ω–∞–≥—Ä—É–∑–∫–∏
‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îî‚îÄ‚îÄ jmeter/                        # JMeter –∏ –µ–≥–æ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏
‚îú‚îÄ‚îÄ report/                            # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π HTML-–æ—Ç—á–µ—Ç –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞
‚îú‚îÄ‚îÄ user-auth/                         # Auth-—Å–µ—Ä–≤–∏—Å (Spring Boot)
‚îú‚îÄ‚îÄ verification-service/             # –í–Ω–µ—à–Ω–∏–π –º–æ–∫-—Å–µ—Ä–≤–∏—Å (Spring Boot)
‚îî‚îÄ‚îÄ .github/
    ‚îî‚îÄ‚îÄ workflows/
        ‚îî‚îÄ‚îÄ ci.yml                     # CI-–ø–∞–π–ø–ª–∞–π–Ω —Å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º —Ç–µ—Å—Ç–æ–≤
```

## ‚öôÔ∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up --build

# –û—Ç–∫—Ä—ã—Ç—å Grafana: http://localhost:3000 (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å: admin/admin)

# –ó–∞–ø—É—Å—Ç–∏—Ç—å JMeter —Ç–µ—Å—Ç –≤—Ä—É—á–Ω—É—é
tools/jmeter/bin/jmeter -n -t jwt_mock_test.jmx -l result.jtl -e -o report
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- Prometheus —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É `/actuator/prometheus`
- Grafana –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Prometheus –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞—à–±–æ—Ä–¥
- Micrometer –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –æ–±–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞

## üß™ CI / CD

–ü—Ä–∏ –∫–∞–∂–¥–æ–º `push` –∏–ª–∏ `pull request` –≤ `main`:

1. –°–æ–±–∏—Ä–∞—é—Ç—Å—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
2. –ü–æ–¥–Ω–∏–º–∞—é—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è JMeter —Ç–µ—Å—Ç
4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è HTML-–æ—Ç—á–µ—Ç
5. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (–ª–æ–≥-—Ñ–∞–π–ª—ã, –æ—Ç—á–µ—Ç)
